%version of 08-15-19
\chapter{$\oplus \oplus$ The Diverse Delights of de Bruijn Networks}
\label{ch:de-Bruijn-delights}



\section{Cycles in de Bruijn Networks}
\label{Appendix:deBruijn-Pancyclic}

This section is devoted to the following marvelous extension of
Proposition~\ref{thm:deBruijn-Hamiltonian}.

\index{self-loop}

\begin{prop}
\label{thm:deBruijn-pancyclic}
Every de Bruijn network $\d_n$ is directed-pancyclic.
In detail:  $\d_n$ has directed cycles of every length from $1$ to $2^n$.\footnote{The cycles of
length $1$ arise from  the {\it self-loops} on vertices $0 \cdots 0$ and $1 \cdots 1$ of every
de Bruijn network.}
\end{prop}

\begin{proof}
We argue by induction on the index $n$ of de Bruijn network $\d_n$.

Our base case is provided by $\d_2$ and $\d_3$.  A brief perusal of Figs.~\ref{fig:dB2by2} 
and~\ref{fig:dB2by3} will verify that both networks are directed-pancyclic.

Let us assume inductively that every de Bruijn network $\d_m$ with $\m \leq n$ is 
directed-pancyclic.  Our progress from this assumption to a proof that $\d_{n+1}$ is 
directed-pancyclic relies heavily on two results from Section~\ref{sec:path-cycle-problems}, 
namely:
\begin{itemize}
\item
Corollary~\ref{corol:eulerian-named-graphs}: {\em Each $\d_n$ admits a directed Eulerian cycle.}
\item
Lemma~\ref{thm:deBruin-linegraph}: {\em The line-graph of $\d_n$ is (isomorphic to) $\d_{n+1}$.}
\end{itemize}
Our extension of the inductive hypothesis focuses separately on ``small"  and ``large" cycles.

\medskip

\noindent {\bf Case 1.}  {\em ``Small" cycles in $\d_{n+1}$: lengths $\ell \in \{1, \ldots, 2^n\}$.} \\
We know by our inductive hypothesis that $\d_n$ contains directed cycles of every length
$\ell \in \{1, \ldots, 2^n\}$.  Focus on one such cycle, say the length-$k$ cycle $\cc$.  Clearly,
the line-digraph of $\cc$ is another length-$k$ cycle, which is isomorphic to $\cc$.  The proof of
Lemma~\ref{thm:deBruin-linegraph} therefore tells us that the line-digraph of $\cc$ is
isomorphic to a length-$k$ cycle in $\d_{n+1}$.

It follows that $\d_{n+1}$ contains directed cycles of all lengths $\ell \in \{1, \ldots, 2^n\}$.

\medskip

\noindent {\bf Case 2.} {\em ``Large" cycles in $\d_{n+1}$: lengths $\ell \in \{2^n+ 1, \ldots, 2^{n+1}\}$.} \\
Focus on an arbitrary integer $m = 2^n +k$, where $k \in \[1, \ldots, 2^n\}$.  We verify that $\d_{n+1}$
contains a directed cycle of length $m$.

By Case 1 and our inductive hypothesis, we know that $\d_{n+1}$ contains a directed cycle, call
it $\cc$, of length $M = 2^{n+1} - m \ = \ 2^n -k$.  By Lemma~\ref{thm:deBruin-linegraph}, the
existence  of cycle $\cc$ implies that $\d_n$ contains a connected Eulerian subgraph
containing $M$ arcs.  We claim that $\d_n$ {\em also} contains a connected Eulerian subgraph
containing $m$ arcs.  Once we verify this claim, an invocation of
Lemma~\ref{thm:deBruin-linegraph} will establish the existence in $\d_{n+1}$ of a cycle that
contains $m = 2^n +k$ vertices.  Therefore, Case 2 will follow from a proof of the following lemma.


TBD
\qed
\end{proof}


\section{A Connection between Trees and DeBruijn Networks} 
\label{Appendix:tree-DB}

\[
\begin{array}{|ccccccc|}
\hline
\multicolumn{3}{c}{\mbox{Arc-labels: Tree}} & \hspace*{.2in}& \multicolumn{3}{c}{\mbox{Arc-labels: De Bruijn network}} \\
\hline 
F_0(x) & = & 2x      &  &  F^{(n)}_0(x) & = & 2x \bmod 2^n \\
F_1(x) & = & 2x+1  &  &  F^{(n)}_1(x) & = & 2x +1 \bmod 2^n \\ 
\hline
\end{array}
\]

\[
\begin{array}{|c|ccccc|}
\hline
\mbox{vertex} & \multicolumn{2}{c}{\mbox{Tree-successor}} & \hspace*{.2in} & \multicolumn{2}{c}{\mbox{DeBruijn-successor}} \\
\hline
v & F_0(v) & F_1(v) & & F^{(n)}_0(v))& F^{(n)}_1(v) \\
\hline
0 & 0 & 1 & & 0 & 1 \\ 
1 & 2 & 3 & & 2 & 3 \\
2 & 4 & 5 & & 4 & 5 \\
3 & 6 & 7 & & 6 & 7 \\
4 & \cdots & \cdots  & & 0 & 1 \\
5 & \cdots & \cdots  & & 2 & 3 \\
6 & \cdots & \cdots  & & 4 & 5 \\
7 & \cdots & \cdots  & & 6 & 7 \\
\hline
\end{array}
\]
